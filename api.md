# 二、基础参数

## 1、域名

| 环境 | 域名                    |
| :--- | :---------------------- |
| dev  | dev.mengyu.meiracle.cn |

## 2、通用响应对象

| **名称** | **类型** | **含义** | **说明**   |                                                              |
| :------- | :------- | :------- | :--------- | ------------------------------------------------------------ |
| success  |          | boolean  | 是否成功   | 异常+业务失败为false                                         |
| data     |          | object   | 业务返回值 | ⬇️响应内容填充该字段data类型只能为对象不能为数组，方便后续扩展 |
| error    |          | object   | 错误       |                                                              |
|          | message  | string   | 错误信息   |                                                              |
|          | code     | int      | 错误码     |                                                              |

# 三、用户模块

## 1、用户注册/登录

## 2、用户续期

# 四、宠物模块

## 1、查询宠物列表

**请求方式：**GET

**路径：**/api/mengyu/pet/list

**请求：**

Header

| **名称** | **类型** | **含义** | **是否必传** | **说明** |      |
| :------- | :------- | :------- | :----------- | :------- | ---- |
| token    |          | string   | 用户token    | 是       |      |

**响应：**

| **名称** |         | **类型**    | **含义** | **说明**     |                          |
| :------- | :------ | :---------- | :------- | :----------- | ------------------------ |
| success  |         |             | boolean  | 是否成功     |                          |
| error    |         |             | object   | 错误         |                          |
|          | message |             | string   | 错误信息     |                          |
|          | code    |             | int      | 错误码       |                          |
| data     |         |             | object   |              |                          |
|          | petList |             | array    |              |                          |
|          |         | perId       | long     | 宠物id       |                          |
|          |         | type        | int      | 宠物类型     | 1：狗；2：猫             |
|          |         | gender      | int      | 宠物性别     | 1：公；2：母             |
|          |         | birthday    | string   | 宠物生日     | 是否使用时间戳？便于更改 |
|          |         | ownerTitle  | string   | 对主人的称呼 |                          |
|          |         | avatar      | string   | 宠物头像     | 头像地址                 |
|          |         | nickName    | string   | 宠物昵称     |                          |
|          |         | character   | string   | 宠物性格     | 性格特点                 |
|          |         | description | string   | 宠物描述     | 外貌描述                 |

## 2、查询宠物详情

**请求方式：**GET

**路径：**/api/mengyu/pet/detail

**请求：**

Header

| **名称** | **类型** | **含义** | **是否必传** | **说明** |      |
| :------- | :------- | :------- | :----------- | :------- | ---- |
| token    |          | string   | 用户token    | 是       |      |

Query：

| **名称** | **类型** | **含义** | **是否必传** | **说明** |      |
| :------- | :------- | :------- | :----------- | :------- | ---- |
| petId    |          | long     | 宠物ID       | 是       |      |

**响应：**

| **名称** | **类型**    | **含义** | **说明**     |                          |
| :------- | :---------- | :------- | :----------- | ------------------------ |
| success  |             | boolean  | 是否成功     |                          |
| error    |             | object   | 错误         |                          |
|          | message     | string   | 错误信息     |                          |
|          | code        | int      | 错误码       |                          |
| data     |             | object   |              |                          |
|          | type        | int      | 宠物类型     | 1：狗；2：猫             |
|          | gender      | int      | 宠物性别     | 1：公；2：母             |
|          | birthday    | string   | 宠物生日     | 是否使用时间戳？便于更改 |
|          | ownerTitle  | string   | 对主人的称呼 |                          |
|          | avatar      | string   | 宠物头像     | 头像地址                 |
|          | nickName    | string   | 宠物昵称     |                          |
|          | character   | string   | 宠物性格     | 性格特点                 |
|          | description | string   | 宠物描述     | 外貌描述                 |

# 五、文件模块

## 1、相册图片上传

**请求方式：POST**

**路径：**/api/mengyu/image/list/upload

**请求：**

Header

| **名称** | **类型** | **含义** | **是否必传** | **说明** |      |
| :------- | :------- | :------- | :----------- | :------- | ---- |
| token    |          | string   | 用户token    | 是       |      |

Body：

| **名称**  | **类型** | **含义** | **是否必传** | **说明** |        |
| :-------- | :------- | :------- | :----------- | :------- | ------ |
| imageList |          | array    | 相片列表     | 是       |        |
|           | image    | file     | 相片文件     | 是       |        |
|           | time     | long     | 日期时间     |          | 时间戳 |
|           | location | string   | 地址         |          |        |

**响应：**

| **名称** | **类型** | **含义** | **说明** |          |                         |
| :------- | :------- | :------- | :------- | -------- | ----------------------- |
| success  |          |          | boolean  | 是否成功 |                         |
| error    |          |          | object   | 错误     |                         |
|          |          | message  | string   | 错误信息 |                         |
|          |          | code     | int      | 错误码   |                         |
| data     |          |          | boolean  | 是否成功 | true：成功；false：失败 |

# 六、日记模块

## 1、查询日记列表

**请求方式：**GET

**路径：**/api/mengyu/diary/list

**请求：**

Header

| **名称** | **类型** | **含义** | **是否必传** | **说明** |      |
| :------- | :------- | :------- | :----------- | :------- | ---- |
| token    |          | string   | 用户token    | 是       |      |

Query：

| **名称** | **类型** | **含义** | **是否必传** | **说明** |      |
| :------- | :------- | :------- | :----------- | :------- | ---- |
| petId    |          | long     | 宠物ID       | 是       |      |

**响应：**

| **名称** | **类型**  | **含义** | **说明** |          |      |
| :------- | :-------- | :------- | :------- | -------- | ---- |
| success  |           |          | boolean  | 是否成功 |      |
| error    |           |          | object   | 错误     |      |
|          |           | message  | string   | 错误信息 |      |
|          |           | code     | int      | 错误码   |      |
| data     |           |          | object   |          |      |
|          | diaryList |          | array    |          |      |
|          |           | diaryId  | int      | 日记id   |      |
|          |           | date     | string   | 日期     |      |
|          |           | title    | string   | 日记标题 |      |
|          |           | avatar   | string   | 日记头像 |      |
|          |           | emotion  | int      | 当日情绪 |      |

## 2、查询日记详情

**请求方式：**GET

**路径：**/api/mengyu/pet/detail

**请求：**

Header

| **名称** | **类型** | **含义** | **是否必传** | **说明** |      |
| :------- | :------- | :------- | :----------- | :------- | ---- |
| token    |          | string   | 用户token    | 是       |      |

Query：

| **名称** | **类型** | **含义** | **是否必传** | **说明** |                                              |
| :------- | :------- | :------- | :----------- | :------- | -------------------------------------------- |
| petId    |          | long     | 宠物ID       | 是       |                                              |
| diaryId  |          | int      | 日记id       |          |                                              |
| date     |          | string   | 日期         |          | 优先使用diaryId查询，diaryId为空使用日期查询 |

**响应：**

| **名称** | **类型**  | **含义** | **说明** |          |      |
| :------- | :-------- | :------- | :------- | -------- | ---- |
| success  |           |          | boolean  | 是否成功 |      |
| error    |           |          | object   | 错误     |      |
|          |           | message  | string   | 错误信息 |      |
|          |           | code     | int      | 错误码   |      |
| data     |           |          | object   |          |      |
|          | date      |          | string   | 日期     |      |
|          | title     |          | string   | 日记标题 |      |
|          | avatar    |          | string   | 日记头像 |      |
|          | emotion   |          | int      | 当日情绪 |      |
|          | content   |          | string   | 日记内容 |      |
|          | imageList |          | array    | 照片列表 |      |

## 3、查询日历情绪

**请求方式：**GET

**路径：**/api/mengyu/diary/calendar

**请求：**

Header

| **名称** | **类型** | **含义** | **是否必传** | **说明** |      |
| :------- | :------- | :------- | :----------- | :------- | ---- |
| token    |          | string   | 用户token    | 是       |      |

Query：

| **名称**  | **类型** | **含义** | **是否必传** | **说明** |        |
| :-------- | :------- | :------- | :----------- | :------- | ------ |
| petId     |          | long     | 宠物ID       | 是       |        |
| yearMonth |          | int      | 年月         | 是       | 202601 |

**响应：**

| **名称** | **类型** | **含义** | **说明** |          |            |
| :------- | :------- | :------- | :------- | -------- | ---------- |
| success  |          |          | boolean  | 是否成功 |            |
| error    |          |          | object   | 错误     |            |
|          |          | message  | string   | 错误信息 |            |
|          |          | code     | int      | 错误码   |            |
| data     |          |          | object   |          |            |
|          | dayList  |          | array    |          |            |
|          |          | diaryId  | int      | 日记id   |            |
|          |          | date     | string   | 日期     |            |
|          |          | weekDay  | int      | 星期几   | 日-六：0-6 |
|          |          | title    | string   | 日记标题 |            |
|          |          | avatar   | string   | 日记头像 |            |
|          |          | emotion  | int      | 当日情绪 |            |

## 4、查询前7天情绪

**请求方式：**GET

**路径：**/api/mengyu/diary/7days

**请求：**

Header

| **名称** | **类型** | **含义** | **是否必传** | **说明** |      |
| :------- | :------- | :------- | :----------- | :------- | ---- |
| token    |          | string   | 用户token    | 是       |      |

Query：

| **名称** | **类型** | **含义** | **是否必传** | **说明** |          |
| :------- | :------- | :------- | :----------- | :------- | -------- |
| petId    |          | long     | 宠物ID       | 是       |          |
| date     |          | int      | 日期         | 是       | 20260130 |

**响应：**

| **名称** | **类型** | **含义** | **说明** |          |            |
| :------- | :------- | :------- | :------- | -------- | ---------- |
| success  |          |          | boolean  | 是否成功 |            |
| error    |          |          | object   | 错误     |            |
|          |          | message  | string   | 错误信息 |            |
|          |          | code     | int      | 错误码   |            |
| data     |          |          | object   |          |            |
|          | dayList  |          | array    |          |            |
|          |          | diaryId  | int      | 日记id   |            |
|          |          | date     | string   | 日期     |            |
|          |          | weekDay  | int      | 星期几   | 日-六：0-6 |
|          |          | title    | string   | 日记标题 |            |
|          |          | avatar   | string   | 日记头像 |            |
|          |          | emotion  | int      | 当日情绪 |            |